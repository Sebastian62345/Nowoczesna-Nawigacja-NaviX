<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NaviX - Nowoczesna Nawigacja</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="logo-title">
        <img src="https://img.icons8.com/color/48/000000/compass--v2.png" alt="NaviX logo" class="app-logo" />
        <h1>NaviX</h1>
      </div>
      <form class="search-box" onsubmit="return false;">
        <input type="text" id="search-input" placeholder="Wpisz cel..." autocomplete="off">
        <div id="autocomplete-list" class="autocomplete-list"></div>
        <div id="history-list" class="history-list"></div>
        <button type="button" id="voice-btn" title="Wyszukiwanie gÅ‚osowe">ğŸ¤</button>
        <button type="button" id="search-btn">Szukaj</button>
      </form>
      <div class="toolbar">
        <div class="mode-switch">
          <label>Tryb:</label>
          <select id="travel-mode">
            <option value="car">SamochÃ³d</option>
            <option value="walk">Pieszo</option>
            <option value="bike">Rower</option>
            <option value="bus">Autobus</option>
            <option value="train">PociÄ…g</option>
            <option value="plane">Samolot</option>
          </select>
        </div>
        <button id="theme-toggle" title="ZmieÅ„ motyw">ğŸŒ™</button>
        <button id="fullscreen-btn" title="PeÅ‚ny ekran">â›¶</button>
        <button id="share-btn" title="UdostÄ™pnij trasÄ™">ğŸ”—</button>
        <button id="fav-btn" title="Dodaj do ulubionych">â˜…</button>
        <select id="language-switch" title="JÄ™zyk">
          <option value="pl">PL</option>
          <option value="en">EN</option>
        </select>
        <div class="auto-night-switch">
          <label for="auto-night-toggle" title="Automatyczny tryb nocny">Auto noc ğŸŒ™</label>
          <input type="checkbox" id="auto-night-toggle" title="Automatyczny tryb nocny" />
        </div>
      </div>
    </header>

    <main>
      <div id="map"></div>
      <div class="legend" id="legend">
        <div class="legend-header">
          <h4>Legenda</h4>
          <button id="legend-toggle" title="Schowaj/PokaÅ¼ legendÄ™">âŒ</button>
        </div>
        <div class="legend-content">
          <div><span class="legend-icon" style="color:#2563eb;">â—</span> Trasa gÅ‚Ã³wna</div>
          <div><span class="legend-icon" style="color:orange;">â—</span> Trasa alternatywna</div>
          <div><span class="legend-icon">âš ï¸</span> Utrudnienie</div>
          <div><span class="legend-icon">ğŸ“¸</span> Fotoradar</div>
          <div><span class="legend-icon">ğŸš—</span> SamochÃ³d</div>
          <div><span class="legend-icon">ğŸš¶â€â™‚ï¸</span> Pieszo</div>
          <div><span class="legend-icon">ğŸš²</span> Rower</div>
          <div><span class="legend-icon">ğŸšŒ</span> Autobus</div>
          <div><span class="legend-icon">ğŸ›’</span> Sklep <input type="checkbox" id="filter-shop" checked style="vertical-align:middle;" title="PokaÅ¼/ukryj sklepy"></div>
          <div><span class="legend-icon">â›½</span> Stacja benzynowa <input type="checkbox" id="filter-fuel" checked style="vertical-align:middle;" title="PokaÅ¼/ukryj stacje"></div>
          <div><span class="legend-icon">ğŸ¥</span> Szpital <input type="checkbox" id="filter-hospital" checked style="vertical-align:middle;" title="PokaÅ¼/ukryj szpitale"></div>
          <div><span class="legend-icon">ğŸ›ï¸</span> Galeria handlowa <input type="checkbox" id="filter-mall" checked style="vertical-align:middle;" title="PokaÅ¼/ukryj galerie"></div>
          <div><span class="legend-icon">ğŸ’‡â€â™‚ï¸</span> Salon fryzjerski <input type="checkbox" id="filter-hairdresser" checked style="vertical-align:middle;" title="PokaÅ¼/ukryj salony"></div>
          <div><span class="legend-icon">ğŸš†</span> PociÄ…g</div>
          <div><span class="legend-icon">âœˆï¸</span> Samolot</div>
        </div>
        <button id="legend-show" style="display:none;margin-top:10px;">PokaÅ¼ legendÄ™</button>
      </div>

      <div class="route-info hidden" id="route-info">
        <h3>Informacje o trasie</h3>
        <div id="route-shortcuts" style="margin-bottom:10px;"></div>
        <p>Dystans: <span id="distance">-</span> km</p>
        <p>Czas podrÃ³Å¼y: <span id="duration">-</span> min</p>
        <div id="route-transport-info" style="margin:10px 0;"></div>
        <button id="start-navigation">Rozpocznij nawigacjÄ™</button>
        <button id="help-btn" style="margin-top:10px;background:#2563eb;">Pomoc</button>
      </div>
    </main>

    <div class="user-location hidden" id="user-location">
      <span>Twoja lokalizacja: </span>
      <span id="location-coords"></span>
    </div>

    <div id="help-modal" class="hidden" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(24,28,42,0.7);z-index:4000;display:flex;align-items:center;justify-content:center;">
      <div style="background:#fff;color:#232946;padding:32px 24px;border-radius:16px;max-width:400px;box-shadow:0 4px 32px rgba(44,62,80,0.18);position:relative;">
        <button id="close-help" style="position:absolute;top:12px;right:12px;font-size:1.3em;background:none;border:none;cursor:pointer;color:#2563eb;">âœ–</button>
        <h2 style="margin-bottom:12px;">Pomoc</h2>
        <ul style="margin-bottom:10px;">
          <li>Wpisz cel podrÃ³Å¼y lub kliknij na mapie.</li>
          <li>Wybierz tryb transportu (samochÃ³d, pieszo, rower, autobus, pociÄ…g).</li>
          <li>MoÅ¼esz uÅ¼yÄ‡ wyszukiwania gÅ‚osowego (ğŸ¤).</li>
          <li>Dodaj trasÄ™ do ulubionych (â˜…) lub udostÄ™pnij (ğŸ”—).</li>
          <li>PrzeÅ‚Ä…cz tryb jasny/ciemny lub auto-noc.</li>
          <li>Legenda wyjaÅ›nia ikony i kolory tras.</li>
          <li>Historia wyszukiwaÅ„ dostÄ™pna po klikniÄ™ciu w pole.</li>
          <li>Fotoradary (ğŸ“¸) pojawiajÄ… siÄ™ na trasie w miejscach o wiÄ™kszym natÄ™Å¼eniu ruchu lub na gÅ‚Ã³wnych drogach.</li>
          <li>Historia tras: kliknij przycisk poniÅ¼ej, aby zobaczyÄ‡ i wybraÄ‡ poprzednie trasy.</li>
        </ul>
        <b>Oznaczenia Å›rodkÃ³w transportu:</b>
        <div style="margin:8px 0;">ğŸš— SamochÃ³d, ğŸš¶â€â™‚ï¸ Pieszo, ğŸš² Rower, ğŸšŒ Autobus, ğŸš† PociÄ…g</div>
        <div style="font-size:0.95em;color:#888;">NiektÃ³re tryby mogÄ… byÄ‡ niedostÄ™pne dla wybranej trasy.</div>
        <button id="show-history-btn" style="margin-top:16px;background:#2563eb;color:#fff;padding:8px 18px;border-radius:8px;border:none;cursor:pointer;font-size:1em;">Historia tras</button>
      </div>
    </div>

    <div id="history-modal" class="hidden" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(24,28,42,0.7);z-index:4100;display:flex;align-items:center;justify-content:center;">
      <div style="background:#fff;color:#232946;padding:28px 20px;border-radius:14px;max-width:420px;box-shadow:0 4px 32px rgba(44,62,80,0.18);position:relative;min-width:260px;">
        <button id="close-history" style="position:absolute;top:12px;right:12px;font-size:1.2em;background:none;border:none;cursor:pointer;color:#2563eb;">âœ–</button>
        <h2 style="margin-bottom:12px;">Historia tras</h2>
        <div id="history-routes-list" style="max-height:260px;overflow-y:auto;"></div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>
